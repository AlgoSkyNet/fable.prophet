<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prophet framework modelling — prophet • fable.prophet</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Prophet framework modelling — prophet" />

<meta property="og:description" content="Prepares a Prophet model for use within the fable package." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fable.prophet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mitchelloharawild/fable.prophet">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prophet framework modelling</h1>
    <small class="dont-index">Source: <a href='https://github.com/mitchelloharawild/fable.prophet/blob/master/R/model.R'><code>R/model.R</code></a></small>
    <div class="hidden name"><code>prophet.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Prepares a Prophet model for use within the <code>fable</code> package.</p>
    
    </div>

    <pre class="usage"><span class='fu'>prophet</span>(<span class='no'>formula</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>A symbolic description of the model to be fitted of class <code>formula</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not used</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="specials"><a class="anchor" href="#specials"></a>Specials</h2>

    
    <h3>growth</h3>
    The <code>growth</code> special is used to specify the trend parameters.
<pre>
growth(type = c("linear", "logistic"), capacity = NULL, floor = NULL,
       changepoints = NULL, n_changepoints = 25, changepoint_range = 0.8,
       changepoint_prior_scale = 0.05)
</pre>
    <table class='table'>
<tr><td></td><td><code>type</code></td></tr>
<tr><td></td><td>The type of seasonality.</td></tr>
<tr><td></td><td><code>capacity</code></td></tr>
<tr><td></td><td>The carrying capacity for when</td></tr>
<tr><td><code>type</code></td><td>is "logistic".</td></tr>
<tr><td></td><td><code>floor</code></td></tr>
<tr><td></td><td>The saturating minimum for when</td></tr>
<tr><td><code>type</code></td><td>is "logistic".</td></tr>
<tr><td></td><td><code>changepoints</code></td></tr>
<tr><td></td><td>A vector of dates/times for changepoints. If</td></tr>
<tr><td><code>NULL</code></td><td>, changepoints are automatically selected.</td></tr>
<tr><td></td><td><code>n_changepoints</code></td></tr>
<tr><td></td><td>The total number of changepoints to be selected if</td></tr>
<tr><td><code>changepoints</code></td><td>is</td></tr>
<tr><td><code>NULL</code></td><td></td></tr>
<tr><td></td><td><code>changepoint_range</code></td></tr>
<tr><td></td><td>Proportion of the start of the time series where changepoints are automatically selected.</td></tr>
<tr><td></td><td><code>changepoint_prior_scale</code></td></tr>
<tr><td></td><td>Controls the flexibility of the trend.</td></tr>
</table>
    <h3>season</h3>
    The <code>season</code> special is used to specify a seasonal component. This special can be used multiple times for different seasonalities.
<pre>
season(period = NULL, order = NULL, prior_scale = 10,
       type = c("additive", "multiplicative"), name = NULL)
</pre>
    <table class='table'>
<tr><td></td><td><code>period</code></td></tr>
<tr><td></td><td>The periodic nature of the seasonality. If a number is given, this will be treated as days in the seasonal period. If a character is given, it will be parsed using</td></tr>
<tr><td><code><a href='http://lubridate.tidyverse.org/reference/as.period.html'>lubridate::as.period</a></code></td><td>, allowing seasonal periods such as "2 years".</td></tr>
<tr><td></td><td><code>order</code></td></tr>
<tr><td></td><td>The number of terms in the partial Fourier sum. The higher the</td></tr>
<tr><td><code>order</code></td><td>, the more flexible the seasonality can be.</td></tr>
<tr><td></td><td><code>prior_scale</code></td></tr>
<tr><td></td><td>Used to control the amount of regularisation applied. Reducing this will dampen the seasonal effect.</td></tr>
<tr><td></td><td><code>type</code></td></tr>
<tr><td></td><td>The nature of the seasonality. If "additive", the variability in the seasonal pattern is fixed. If "multiplicative", the seasonal pattern varies proportionally to the level of the series.</td></tr>
<tr><td></td><td><code>name</code></td></tr>
<tr><td></td><td>The name of the seasonal term (allowing you to name an annual pattern as 'annual' instead of 'year' or</td></tr>
<tr><td><code>365.25</code></td><td>for example).</td></tr>
<tr><td></td><td></td></tr>
</table>
    <h3>holiday</h3>
    The <code>holiday</code> special is used to specify a <code>tsibble</code> containing holidays for the model.
<pre>
holiday(holidays = NULL, prior_scale = 10L)
</pre>
    <table class='table'>
<tr><td></td><td><code>holidays</code></td></tr>
<tr><td></td><td>A</td></tr>
<tr><td><code>tsibble</code></td><td>containing a set of holiday events. The event name is given in the 'holiday' column, and the event date is given via the index. Additionally, "lower_window" and "upper_window" columns can be used to include days before and after the holiday.</td></tr>
<tr><td></td><td><code>prior_scale</code></td></tr>
<tr><td></td><td>Used to control the amount of regularisation applied. Reducing this will dampen the holiday effect.</td></tr>
<tr><td></td><td></td></tr>
</table>
    <h3>xreg</h3>
    The <code>xreg</code> special is used to include exogenous regressors in the model. This special can be used multiple times for different regressors with different arguments.
Exogenous regressors can also be used in the formula without explicitly using the <code>xreg()</code> special, which will then use the default arguments.
<pre>
xreg(..., prior_scale = NULL, standardize = "auto", type = NULL)
</pre>
    <table class='table'>
<tr><td></td><td><code>...</code></td></tr>
<tr><td></td><td>A set of bare expressions that are evaluated as exogenous regressors</td></tr>
<tr><td></td><td><code>prior_scale</code></td></tr>
<tr><td></td><td>Used to control the amount of regularisation applied. Reducing this will dampen the regressor effect.</td></tr>
<tr><td></td><td><code>standardize</code></td></tr>
<tr><td></td><td>Should the regressor be standardised before fitting? If "auto", it will standardise if the regressor is not binary.</td></tr>
<tr><td></td><td><code>type</code></td></tr>
<tr><td></td><td>Does the effect of the regressor vary proportionally to the level of the series? If so, "multiplicative" is best. Otherwise, use "additive"</td></tr>
<tr><td></td><td></td></tr>
</table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><ul>
<li><p><a href='https://facebook.github.io/prophet/'>Prophet homepage</a></p></li>
<li><p><a href='https://cran.r-project.org/web/packages/prophet/index.html'>Prophet R package</a></p></li>
<li><p><a href='https://pypi.org/project/fbprophet/'>Prophet Python package</a></p></li>
</ul></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>tsibble</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>dplyr</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘dplyr’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:tsibble’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    id</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:testthat’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    matches</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    filter, lag</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    intersect, setdiff, setequal, union</span></div><div class='input'><span class='kw pkg'>tsibbledata</span><span class='kw ns'>::</span><span class='no'><a href='https://tsibbledata.tidyverts.org/reference/aus_retail.html'>aus_retail</a></span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>Industry</span> <span class='kw'>==</span> <span class='st'>"Cafes, restaurants and catering services"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>model</span>(
    <span class='kw'>prophet</span> <span class='kw'>=</span> <span class='fu'>prophet</span>(<span class='no'>Turnover</span> ~ <span class='fu'>season</span>(<span class='st'>"year"</span>, <span class='fl'>4</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"multiplicative"</span>))
  )</div><div class='output co'>#&gt; # A mable: 8 x 3
#&gt; # Key:     State, Industry [8]
#&gt;   State                        Industry                                 prophet 
#&gt;   &lt;chr&gt;                        &lt;chr&gt;                                    &lt;model&gt; 
#&gt; 1 Australian Capital Territory Cafes, restaurants and catering services &lt;prophe…
#&gt; 2 New South Wales              Cafes, restaurants and catering services &lt;prophe…
#&gt; 3 Northern Territory           Cafes, restaurants and catering services &lt;prophe…
#&gt; 4 Queensland                   Cafes, restaurants and catering services &lt;prophe…
#&gt; 5 South Australia              Cafes, restaurants and catering services &lt;prophe…
#&gt; 6 Tasmania                     Cafes, restaurants and catering services &lt;prophe…
#&gt; 7 Victoria                     Cafes, restaurants and catering services &lt;prophe…
#&gt; 8 Western Australia            Cafes, restaurants and catering services &lt;prophe…</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#specials">Specials</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Mitchell O'Hara-Wild.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

